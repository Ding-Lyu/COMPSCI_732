(this["webpackJsonpmy-app1"]=this["webpackJsonpmy-app1"]||[]).push([[0],{160:function(e,t,a){},165:function(e,t,a){},171:function(e,t){},280:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(43),c=a.n(s),i=(a(160),a(65),a(29)),o=(a(112),a(36)),l=a(31),u=a(32),j=a(34),d=a(33),h=(a(113),a(39)),b=a(35),m=a(23),p=(a(165),a(48)),O=a(154),x=a(5);n.Component,a(171),a(172);function g(){return Object(x.jsx)("div",{children:Object(x.jsx)("img",{src:"https://images.hdqwalls.com/wallpapers/the-suicide-squad-team-5k-g4.jpg",alt:"poster",style:{width:"100%",height:"80vh",marginTop:20}})})}n.Component;var f=a(41),v=(a(173),a(26)),y=a.n(v),w=function(e){var t=Object(n.useState)([]),a=Object(f.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(!1),o=Object(f.a)(c,2),l=o[0],u=o[1];Object(n.useEffect)((function(){!!localStorage.getItem("token")&&(u(!0),j())}),[]);var j=function(){y.a.get("/favorite").then((function(e){var t=e.data;return s(t.data.movies)})).catch((function(e){return console.log(e)}))};return Object(x.jsx)(x.Fragment,{children:e.movies.map((function(e,t){var a=-1!==r.findIndex((function(t){return t.imdbID===e.imdbID}));return Object(x.jsxs)("div",{className:"movie-poster",children:[Object(x.jsx)("img",{src:e.Poster,alt:"movie"}),l&&Object(x.jsx)(i.a,{onClick:function(){return a?function(e){y.a.delete("/favorite/"+e._id).then((function(e){return e.data,j()})).catch((function(e){return console.log(e)}))}(e):function(e){y.a.post("/favorite",{poster:e.Poster,title:e.Title,type:e.Type,year:e.Year,imdbID:e.imdbID}).then((function(e){return e.data,j()})).catch((function(e){return console.log(e)}))}(e)},type:"primary",children:a?"Remove":"Add"})]})}))})},k=function(){var e=Object(n.useState)([{Title:"Star Wars: Episode IV - A New Hope",Year:"1977",imdbID:"tt0076759",Type:"movie",Poster:"https://m.media-amazon.com/images/M/MV5BNzVlY2MwMjktM2E4OS00Y2Y3LWE3ZjctYzhkZGM3YzA1ZWM2XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"},{Title:"Star Wars: Episode V - The Empire Strikes Back",Year:"1980",imdbID:"tt0080684",Type:"movie",Poster:"https://m.media-amazon.com/images/M/MV5BYmU1NDRjNDgtMzhiMi00NjZmLTg5NGItZDNiZjU5NTU4OTE0XkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"},{Title:"Star Wars: Episode VI - Return of the Jedi",Year:"1983",imdbID:"tt0086190",Type:"movie",Poster:"https://m.media-amazon.com/images/M/MV5BOWZlMjFiYzgtMTUzNC00Y2IzLTk1NTMtZmNhMTczNTk0ODk1XkEyXkFqcGdeQXVyNTAyODkwOQ@@._V1_SX300.jpg"}]),t=Object(f.a)(e,2),a=t[0];t[1];return Object(x.jsx)("div",{children:Object(x.jsx)(w,{movies:a})})},S=a(38),C=a.n(S),I=a(53),P=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],r=t[1],s=function(){var e=Object(I.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://www.omdbapi.com/?s=avengers&apikey=ebe923f6",e.next=3,fetch("http://www.omdbapi.com/?s=avengers&apikey=ebe923f6");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),r(a.Search);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),Object(x.jsx)("div",{children:Object(x.jsx)("div",{children:Object(x.jsx)(w,{movies:a})})})},A=h.a.Content,M=h.a.Sider;n.Component;a(191);var N=a(152),T=(a(193),a(85)),D=(a(281),a(150)),z=(a(197),a(56)),E=(a(135),a(37)),q=(a(136),a(54)),F=(a(282),a(122)),L=F.a.Option,V=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).showDrawer=function(){n.setState({visible:!0})},n.onClose=function(){n.setState({visible:!1})},n.onClickSubmit=Object(I.a)(C.a.mark((function e(){var t,a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setState({errors:{}}),e.next=4,y.a.post("/signup",Object(p.a)({},n.state));case 4:t=e.sent,a=t.data,console.log(a),r=a.data.token,y.a.defaults.headers.common.Authorization=r,localStorage.setItem("token",r),n.props.setAuth(),n.setState({visible:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),n.setState({errors:e.t0.response.data.errors});case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),n.state={visible:!1,name:"",mobile:"",email:"",dob:"",gender:"",address:"",password:"",confirmPassword:"",errors:{}},n}return Object(u.a)(a,[{key:"render",value:function(){var e=this;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(i.a,{style:{float:"right",margin:"10px",color:"white"},type:"primary",onClick:this.showDrawer,children:"Register"}),Object(x.jsxs)(N.a,{title:"Create a new account",width:"100%",onClose:this.onClose,visible:this.state.visible,bodyStyle:{paddingBottom:80},footer:Object(x.jsxs)("div",{style:{textAlign:"right"},children:[Object(x.jsx)(i.a,{onClick:this.onClose,style:{marginRight:8},children:"Cancel"}),Object(x.jsx)(i.a,{onClick:this.onClickSubmit,type:"primary",children:"Submit"})]}),children:[Object(x.jsxs)(E.a,{layout:"vertical",hideRequiredMark:!0,children:[Object(x.jsxs)(T.a,{gutter:16,children:[Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter user name"}],children:Object(x.jsx)(q.a,{value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})},placeholder:"Please enter user name"})})}),Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"Date of Birth",label:"Date of Birth",rules:[{required:!0,message:"Please enter user name"}],children:Object(x.jsx)(D.a,{style:{width:"100%"},getPopupContainer:function(e){return e.parentElement},value:this.state.dob,onChange:function(t){return e.setState({dob:t.toISOString()})}})})})]}),Object(x.jsxs)(T.a,{gutter:16,children:[Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"Gender",label:"Gender",rules:[{required:!0,message:"Please select an owner"}],children:Object(x.jsxs)(F.a,{placeholder:"Please select gender",value:this.state.gender,onChange:function(t){return e.setState({gender:t.valueOf()})},children:[Object(x.jsx)(L,{value:"Male",children:"Male"}),Object(x.jsx)(L,{value:"Female",children:"Female"})]})})}),Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"Address",label:"Address",rules:[{required:!0,message:"Please enter your address"}],children:Object(x.jsx)(q.a,{placeholder:"Please enter your address",value:this.state.address,onChange:function(t){return e.setState({address:t.target.value})}})})})]}),Object(x.jsxs)(T.a,{gutter:16,children:[Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"Eamil",label:"Email",rules:[{required:!0,message:"Please enter your email address"}],children:Object(x.jsx)(q.a,{placeholder:"Please enter your email address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})})}),Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"Mobile",label:"Mobile",rules:[{required:!0,message:"Please enter your phone number"}],children:Object(x.jsx)(q.a,{placeholder:"Please enter your phone number",value:this.state.mobile,onChange:function(t){return e.setState({mobile:t.target.value})}})})})]}),Object(x.jsxs)(T.a,{gutter:16,children:[Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter your password"}],children:Object(x.jsx)(q.a.Password,{placeholder:"Please enter your password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})})}),Object(x.jsx)(z.a,{span:12,children:Object(x.jsx)(E.a.Item,{name:"confirm-password",label:"confirmPassword",rules:[{required:!0,message:"Please re-enter your password"}],children:Object(x.jsx)(q.a.Password,{placeholder:"Please re-enter your password",value:this.state.confirmPassword,onChange:function(t){return e.setState({confirmPassword:t.target.value})}})})})]})]}),this.state.errors&&Object(x.jsx)("ul",{style:{color:"red"},children:Object.values(this.state.errors).map((function(e){return Object(x.jsx)("li",{children:e},e)}))})]})]})}}]),a}(n.Component),Y=(a(269),a(153));function X(e){var t=Object(n.useState)(""),a=Object(f.a)(t,2),r=a[0],s=a[1],c=Object(n.useState)(""),o=Object(f.a)(c,2),l=o[0],u=o[1],j=Object(n.useState)(!1),d=Object(f.a)(j,2),h=d[0],b=d[1],m=function(){var t=Object(I.a)(C.a.mark((function t(){var a,n,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!1),t.prev=1,t.next=4,y.a.post("/login",{email:r,password:l});case 4:a=t.sent,n=a.data,s=n.data.token,y.a.defaults.headers.common.Authorization=s,localStorage.setItem("token",s),e.setAuth(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),b(!0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}(),O={wrapperCol:{offset:10,span:16}};return Object(x.jsxs)("div",{style:{marginTop:"10%"},children:[h&&Object(x.jsx)("h3",{style:{color:"red"},children:"In valid email and password!"}),Object(x.jsxs)(E.a,Object(p.a)(Object(p.a)({},{labelCol:{span:4},wrapperCol:{span:16}}),{},{name:"basic",initialValues:{remember:!0},children:[Object(x.jsx)(E.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(x.jsx)(q.a,{value:r,onChange:function(e){return s(e.target.value)}})}),Object(x.jsx)(E.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(x.jsx)(q.a.Password,{value:l,onChange:function(e){return u(e.target.value)}})}),Object(x.jsx)(E.a.Item,Object(p.a)(Object(p.a)({},O),{},{name:"remember",valuePropName:"checked",children:Object(x.jsx)(Y.a,{children:"Remember me"})})),Object(x.jsx)(E.a.Item,Object(p.a)(Object(p.a)({},O),{},{children:Object(x.jsx)(i.a,{onClick:m,type:"primary",htmlType:"submit",children:"Submit"})}))]}))]})}var R=a.p+"static/media/logo.3cbb6dad.png",B=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).login=Object(I.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.post("");case 3:t=e.sent,a=t.data,console.log(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),n.state={email:"",password:""},n}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsxs)("div",{className:"login-home",children:[Object(x.jsx)("center",{children:Object(x.jsx)("img",{style:{width:"30%",marginTop:"50px"},src:R})}),Object(x.jsx)("center",{children:Object(x.jsx)(X,{setAuth:this.props.setAuth})})]})}}]),a}(n.Component),W=(a(271),a(148)),Z=(a(273),a(151)),_=function(){var e=Object(n.useState)(!0),t=Object(f.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)([]),c=Object(f.a)(s,2),i=c[0],o=c[1],l=function(){var e=Object(I.a)(C.a.mark((function e(){var t,a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://www.omdbapi.com/?s=harry potter&apikey=ebe923f6",e.next=3,fetch("http://www.omdbapi.com/?s=harry potter&apikey=ebe923f6");case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,console.log(a),o(a.Search),r(!1);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),a?Object(x.jsx)(W.a,{tip:"Loading...",children:Object(x.jsx)(Z.a,{message:"Loading",description:"Coming soon",type:"info"})}):i.map((function(e,t){return Object(x.jsx)("div",{style:{float:"left",margin:"20px"},children:Object(x.jsx)("img",{src:e.Poster,alt:"index"})})}))},G=h.a.Content,U=h.a.Sider,Q=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(x.jsxs)(h.a,{style:{height:"100%"},children:[Object(x.jsx)(U,{height:"100%",width:200,className:"site-layout-background",children:Object(x.jsxs)(o.a,{mode:"inline",defaultSelectedKeys:["1"],style:{height:"100%",borderRight:0},children:[Object(x.jsx)(o.a.Item,{style:{fontSize:"20px"},children:Object(x.jsx)(b.b,{to:"/series/friends/1",children:"Friends"})},"1"),Object(x.jsx)(o.a.Item,{children:Object(x.jsx)(b.b,{to:"/series/coming/1",children:"2"})},"2"),Object(x.jsx)(o.a.Item,{children:Object(x.jsx)(b.b,{to:"/series/top/1",children:"3"})},"3")]})}),Object(x.jsx)(h.a,{style:{padding:"0 24px 24px",backgroundColor:"white"},children:Object(x.jsx)(G,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:"100%",backgroundColor:"white"},children:Object(x.jsx)(m.b,{path:"/series/:type/:page",component:_})})})]})}}]),a}(n.Component),H=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).removeItem=function(e){y.a.delete("/favorite/"+e._id).then((function(e){e.data;return n.getData()})).catch((function(e){return console.log(e)}))},n.getData=function(){y.a.get("/favorite").then((function(e){var t=e.data;return n.setState({movies:t.data.movies})})).catch((function(e){return console.log(e)}))},n.state={movies:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){var e=this;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Your Watch List"}),Object(x.jsx)("div",{style:{display:"flex"},children:this.state.movies.map((function(t){return Object(x.jsxs)("div",{className:"watch-list-item",children:[Object(x.jsx)("img",{src:t.poster,alt:"movie"}),Object(x.jsx)(i.a,{onClick:function(){return e.removeItem(t)},type:"primary",children:"Remove"})]})}))})]})}}]),a}(n.Component),J=h.a.Header,K=h.a.Content;h.a.Footer;y.a.defaults.baseURL="http://localhost:5000";var $=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSetIsAuth=function(){n.setState({isAuth:!0})},n.handleUnsetIsAuth=function(){n.setState({isAuth:!1})},n.onLogout=function(){n.setState({isAuth:!1}),delete y.a.defaults.headers.common.Authorization,localStorage.removeItem("token")},n.state={isAuth:!1},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token");e?(this.setState({isAuth:!0}),y.a.defaults.headers.common.Authorization=e):this.setState({isAuth:!1})}},{key:"render",value:function(){return Object(x.jsx)(b.a,{children:Object(x.jsxs)(h.a,{className:"layout",children:[Object(x.jsxs)(J,{style:{backgroundColor:"#202020"},children:[Object(x.jsx)("div",{className:"logo"}),Object(x.jsxs)(o.a,{style:{backgroundColor:"#202020"},theme:"dark",mode:"horizontal",defaultSelectedKeys:[window.location.hash.split("/")[1]],children:[Object(x.jsx)(o.a.Item,{style:{backgroundColor:"#202020"},children:Object(x.jsx)(b.b,{to:"/home",children:"Home"})},"home"),Object(x.jsx)(o.a.Item,{style:{backgroundColor:"#202020"},children:Object(x.jsx)(b.b,{to:"/movie",children:"Movie"})},"movie"),Object(x.jsx)(o.a.Item,{style:{backgroundColor:"#202020"},children:Object(x.jsx)(b.b,{to:"/series/new/1",children:"Series"})},"series"),this.state.isAuth&&Object(x.jsx)(o.a.Item,{style:{backgroundColor:"#202020"},children:Object(x.jsx)(b.b,{to:"/watch-list",children:"Watch List"})},"about"),this.state.isAuth?Object(x.jsx)(i.a,{type:"primary",onClick:this.onLogout,style:{float:"right",marginTop:"10px",color:"white"},children:"Logout"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(b.b,{to:"/login",children:Object(x.jsx)(i.a,{type:"primary",style:{float:"right",marginTop:"10px",color:"white"},children:"Login"})}),Object(x.jsx)(V,{setAuth:this.handleSetIsAuth})]})]})]}),Object(x.jsx)(K,{style:{padding:"0 50px",backgroundColor:"white",width:"100%"},children:Object(x.jsx)("div",{className:"site-layout-content",children:Object(x.jsxs)(m.d,{children:[Object(x.jsx)(m.b,{path:"/home",component:g}),this.state.isAuth?Object(x.jsx)(m.b,{path:"/watch-list",component:H}):Object(x.jsx)(m.b,{path:"/login",children:Object(x.jsx)(B,{setAuth:this.handleSetIsAuth})}),Object(x.jsx)(m.b,{path:"/movie",component:P}),Object(x.jsx)(m.b,{path:"/series",component:Q}),Object(x.jsx)(m.a,{to:"/home"})]})})})]})})}}]),a}(n.Component),ee=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,284)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};c.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)($,{})}),document.getElementById("root")),ee()}},[[280,1,2]]]);
//# sourceMappingURL=main.b4a9d596.chunk.js.map